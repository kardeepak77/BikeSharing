---
output:
  pdf_document: default
  html_document: default
---
---------
title: "weeklyAnalysis"
author: "Pramodini Karwande"
date: "7/6/2021"
allow_html: true
output:
  # html_document:  
  #   toc: yes
  #   toc_depth: 1
  #   toc_float: yes  
  pdf_document:
    toc: yes
---

```{r setup, include=FALSE}
library(knitr)
library(ggplot2)
library(readr)
library(tidyverse)
library(GGally)
opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)

include_graphics("./images/On-Bike-Share-rental-station.jpg")
```


# Bike Sharing Introduction
Bike sharing system is becoming popular now a days in the cities across the world. This allows users to rent bikes withing city for a limited time. Using latest technologies of bike sharing system, its easy for user to access dock from the system, rent bike from a particular position and return the bike to the nearest dock of the destination. _Bike Sharing System_ plays important role in traffic, environmental and health issues.Bike sharing programs have the potential to reduce the number of cars on the roads. Thus these systems promote healthy living and are environmentally friendly.

Bike Sharing Dataset is a dataset of rental bikes between years 2011 and 2012 in , Washington D.C., USA , avaialable from [capitalbikeshare]("http://capitalbikeshare.com/system-data") data source. This dataset contains hourly and daily count of rental bikes. Since [weather conditions]("http://www.freemeteo.com"),  precipitation, day of week, [holiday]("http://dchr.dc.gov/page/holiday-schedule"), season, hour of the day can affect the rental behaviors, Bike-sharing rental process is highly correlated to the environmental and seasonal settings.

The purpose of our analysis is the predication of bike rental count hourly or daily based on the environmental and seasonal settings. To predict the number of users, we need to perform description analysis to get variables we want to work with.

```{r}
dayOfTheWeek = 0

# read data
bikeSharingData <- as.tibble(read.csv("./data/hour.csv"))

facCols <- c("season", "yr", "mnth", "hr", "holiday", "workingday", "weathersit")
# Filter for the day of the week, remove weekday column
bikeSharingData <-  bikeSharingData %>% 
                    filter(weekday == 0) %>% 
                    select(-weekday) %>% 
                    mutate(across(facCols, factor))
bikeSharingData

#Scatter plot of temp with cnt, registered, casual
g <-  ggplot(bikeSharingData, aes(temp, cnt)) 
g + geom_point()

#Scatter plot of atemp with cnt, registered, casual
g <-  ggplot(bikeSharingData, aes(atemp, cnt)) 
g + geom_point()
#Scatter plot of hum with cnt, registered, casual

#Scatter plot of windspeed with cnt, registered, casual

ggpairs(bikeSharingData[,-2], bin = 30)
lmod <- lm(cnt ~., data = bikeSharingData[-2])
summary(lmod)

```
# Dataset Variables:
Based on the summary of full linear regression model, we will proceed with analysis using below predictors:
1. cnt: count of total rental bikes including both casual and registered. This will be the responce variable.
2. yr : year (0: 2011, 1:2012)
3. hr : hour (0 to 23)
4. workingday : if day is neither weekend nor holiday is 1, otherwise is 0.
5. weathersit : 
		- 1: Clear, Few clouds, Partly cloudy, Partly cloudy
		- 2: Mist + Cloudy, Mist + Broken clouds, Mist + Few clouds, Mist
		- 3: Light Snow, Light Rain + Thunderstorm + Scattered clouds, Light Rain + Scattered clouds
		- 4: Heavy Rain + Ice Pallets + Thunderstorm + Mist, Snow + Fog
6. atemp: Normalized feeling temperature in Celsius. The values are divided to 50 (max)
7. hum: Normalized humidity. The values are divided to 100 (max)
8. casual: count of casual users
9. registered: count of registered users



